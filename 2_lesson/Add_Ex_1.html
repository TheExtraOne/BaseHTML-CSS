<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Изображения в формате WebP</title>
		<style type="text/css" media="screen">
			h1,h3,.eg{
				text-align: center;
			}
			span{
				font-weight: bold;
			}
			table{
				border: 2px solid #000000;
				margin: auto;
				width: 50%;
				border-collapse: collapse;
			}
			th, td{
				border: 1px solid #000000;
			}
			.list{
				list-style-type: decimal;
			}
		</style>
	</head>
	<body>
		<div>
			<h1>Что такое WebP и с чем его есть </h1>
			<p>
				<span>WebP</span> называют форматом нового поколения, так называемые <span>next-gen image formats</span>. Он был разработан Google в 2010 году. Формат создан как альтернатива PNG и JPG и отличается значимо меньшим размером файла при аналогичном качестве изображения, а после проведения Worldwide Developers Conference в 2020, теперь и все самые популярные браузеры поддерживают WebP &mdash; Safari, Opera, Firefox, Chrome, Edge. Множество проектов уже используют WebP вместо JPG: Facebook, OLX, Google и eBay.
			</p>
		</div>
		<div>
			<h2 id="plot">Содержание</h2>
			<ul>
				<li><a href="#chapter_1">Как работает WebP</a></li>
				<li><a href="#chapter_2">Сравнение с PNG, JPG и GIF</a></li>
				<li><a href="#chapter_3">Как внедрить WebP на сайте?</a></li>
				<li><a href="#chapter_4">Поддержка браузерами</a></li>
				<li><a href="#chapter_5">Клиффхэнгер</a></li>
				<li><a href="#chapter_6">Ссылки на использованные материалы</a></li>
			</ul>
		</div>
		<div>
			<h3 id="chapter_1">Как работает WebP</h3>
			<p>
				WebP использует новый алгоритм сжатия, поэтому искажение (т.е. деформация и ухудшение качества) выглядят иначе относительно других типов файлов. WebP оставляет четкие края фотографии, но при этом ухудшается детализация и текстура, что неизбежно при сжатии с потерями. В то время как сопоставимый JPEG-файл показывает дрожание на сплошных участках изображения, WEBP может похвастаться гладкими переходами даже на самых низких настройках качества. 
				<br>
				Вы можете сжать WebP как &quot;с потерями&quot; (lossy), так и &quot;без потерь&quot; (lossless). Последний вариант сохранит больше данных, в то время как первый делает размеры результирующего файла еще меньше.
				<br>
				<a href="#plot">К содержанию</a>
			</p>
			<h3 id="chapter_2">Сравнение с PNG, JPG и GIF</h3>
			<p>
				<span>Чем WebP лучше других форматов изображений?</span> WebP позволяет уменьшать файлы изображений без значимой потери в качестве. Google расписал преимущества по результатам собственного исследования. Результаты такие:
				<ul>
					<li>В сравнении с PNG при сжатии без потерь файл по размеру меньше на 24%</li>
					<li>В сравнении JPEG при сжатии с потерями файл по размеру меньше на 25-34%</li>
					<li>WebP поддерживает прозрачность без потерь (известную, как альфа-канал) при увеличении размера всего лишь на 22%</li>
				</ul>
				Сокращение размера положительно влияет сразу на четыре аспекта работы в интернете:
				<ul>
					<li>Сайты со сжатыми WebP-картинками работают быстрее. Уходит меньше времени на обработку небольших файлов. Даже если в статье будет под сотню изображений, компрессия спасет от чересчур долгих загрузок.</li>
					<li>Загружая на VDS маленькие изображения, можно сэкономить на пространстве жесткого диска.</li>
					<li>Пользователи будут тратить меньше мобильного трафика при посещении сайта со смартфона.</li>
					<li>Выделенный интернет-канал до сервера будет загружен гораздо меньше, если передаваемый медиаконтент меньше весит.</li>
				</ul>
				WebP &mdash; крайне полезный формат, ведь он даёт и производительность и возможности. В отличие от других форматов, WebP поддерживает сжатие как с потерями так и без, а также полупрозрачность и анимацию. У его главного конкурента(JPEG) есть главный недостаток  — заметная потеря в качестве и детализации из-за недостаточно продуманных алгоритмов сжатия. Это особенно заметно при приближении или когда у картинки изначально не слишком высокое разрешение. У WebP качество картинки практически не теряется. Если ознакомиться с галереей <a href="https://developers.google.com/speed/webp/gallery1">Google</a>, то станет понятно, что отличить их формат от высококачественных JPEG практически невозможно. Это видно только по размеру файлов.
				<br>
				<br>
				<table>
					<thead>
						<tr>
							<th></th>
							<th>WebP</th>
							<th>PNG</th>
							<th>JPG</th>
							<th>GIF</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Сжатие с потерями</td>
							<td>+</td>
							<td>+</td>
							<td>+</td>
							<td>-</td>
						</tr>
						<tr>
							<td>Сжатие без потерь</td>
							<td>+</td>
							<td>+</td>
							<td>+</td>
							<td>+</td>
						</tr>
						<tr>
							<td>Прозрачность</td>
							<td>+</td>
							<td>+</td>
							<td>-</td>
							<td>+</td>
						</tr>
						<tr>
							<td>Анимация</td>
							<td>+</td>
							<td>-</td>
							<td>-</td>
							<td>+</td>
						</tr>
					</tbody>
				</table>
				<br>
				<br>
				<span>Для чего же лучше (не)использовать?</span> Недостаток этого формата в том, что лица людей могут выглядеть пластиковыми или постеризированными при низкой настройке качества.
				<br>
				<p class="eg">
					<img  src="img/11161bee4f82483a9ffdc47778bea400.jpg" width="500" height="269" alt="Сравнение JPG и WebP на 10% качества" title="Сравнение JPG и WebP на 10% качества">
					<br>
					<img src="img/2f2787ed6a1a4ace86a2aa9d4bc7a202.jpg" width="500" height="269" alt="Сравнение JPG и WebP на 10% качества, приближено" title="Сравнение JPG и WebP на 10% качества, приближено">
					<br>
					На фото видны пластилиновые части: спинка носа, скула, подбородок, надбровье.
					<br>
					<br>
					<br>
					<img src="img/0a16cee08b034b8db43700d93a2f9c77.jpg" width="500" height="620" alt="Разница в качестве альфа-канала" title="Разница в качестве альфа-канала">
					<br>
					Также, обратите внимание на нежелательные полосы в альфа-канале.
					<br>
					<br>
					<br>
					<img src="img/test_jpg.jpg" width="315" height="446" alt="Формат JPG (49.086 кб)" title="Формат JPG (49.086 кб)">
					<br>
					<span>Формат JPG (49.086 кб)</span>
					<br>
					<br>
					<br>
					<img src="img/test_png.png" width="315" height="446" alt="Формат PNG (70.960 кб)" title="Формат PNG (70.960 кб)">
					<br>
					<span>Формат PNG (70.960 кб)</span>
					<br>
					<br>
					<br>
					<img src="img/test_gif.gif" width="315" height="446" alt="Формат GIF (36.519 кб)" title="Формат GIF (36.519 кб)">
					<br>
					<span>Формат GIF (36.519 кб)</span>
					<br>
					<br>
					<br>
					<img src="img/test_webp.webp" width="315" height="446" alt="Формат WebP (37.054 кб)" title="Формат WebP (37.054 кб)">
					<br>
					<span>Формат WebP (37.054 кб)</span>
				</p>
				Использовать формат для элементов навигации нет смысла. Формат следует использовать для изображений товаров и прочих больших файлов. Например, на карточке товара.
				<br>
				<br>
				<table>
					<thead>
						<tr>
							<th>Преимущества</th>
							<th>Недостатки</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Меньший размер файла</td>
							<td>Поддержка меньшим количеством браузеров</td>
						</tr>
						<tr>
							<td>Улучшенный алгоритм сжатия</td>
							<td>Искажение имеет пластиковый вид</td>
						</tr>
						<tr>
							<td>Более качественный переходы цвета, прозрачность, анимация</td>
							<td>Неудобный интерфейс экспорта</td>
						</tr>
						<tr>
							<td>Маска альфа-канала</td>
							<td></td>
						</tr>
					</tbody>
				</table>
				<br>
				<a href="#plot">К содержанию</a>
			</p>
			<h3 id="chapter_3">Как внедрить WebP на сайте?</h3>
			<p>
				Правильная логика внедрения заключается в использовании <span>прогрессивного метода</span> улучшений на сайте. Что конкретно имеется ввиду? Принцип следующий:
			</p>
				<ul>
					<li>Если браузер поддерживает WebP, то на странице выводить WebP</li>
					<li>Если браузер не поддерживает WebP, то выводить JPG</li>
				</ul>
			<p>
				Вариантов по внедрению множество.
				<br>
				<br>
				<span>Способ 1</span>. Использовать тег picture.<br>
				<span>Как работает тег picture?</span> При использовании такой разметки браузер загрузит первое изображение, которое поддерживает. Если браузер не поддерживает picture, то указан img по умолчанию. Пример:
				<br>
				<br>
				<code>
					&lt;picture&gt;<br>
						&lt;source srcset=&quot;img/photo.webp&quot; type=&quot;image/webp&quot;&gt;<br>
						&lt;img src=&quot;img/photo.jpg&quot; alt=&quot;Description of Photo&quot;&gt;<br>
					&lt;/picture&gt;
				</code>
			</p>
			<p>
				<span>Способ 2</span>. Использовать конвертер изображений. Например, инструмент Squoosh предоставляет возможность оптимизации изображений. Разработкой занимался Google. Ссылка на сервис &mdash; <a href="https://squoosh.app" title="Сервис бесплатный">Squoosh</a>.
				<br>
				<a href="#plot">К содержанию</a>
			</p>
			<h3 id="chapter_4">Поддержка браузерами</h3>
			<p>
				Следует отметить,что все самые популярные браузеры уже поддерживают WebP &mdash; Safari, Opera, Firefox, Chrome, Edge. Более точную информацию можно узнать по <a href="https://caniuse.com/webp">ссылке</a>
				<br>
				<a href="#plot">К содержанию</a>
			</p>
			<h3 id="chapter_5">Клиффхэнгер</h3>
			<p>
				Появился новый формат для сжатия изображений <span>AVIF</span>, который взорвал интернет (Chrome уже поддерживает). <span>Сжимает на 50% лучше, чем JPG, и на 20% лучше, чем WEBP.</span> 
				<br>
				<a href="#plot">К содержанию</a>
			</p>
		</div>
		<div>
			<h3 id="chapter_6">Ссылки на использованные материалы</h3>
			<ul class="list">
				<li><a href="https://habr.com/ru/amp/post/275735/">Используем WebP сегодня</a></li>
				<li><a href="https://ru.megaindex.com/blog/webp">WebP &mdash; будущее изображений, которое уже наступило. WebP в SEO</a></li>
				<li><a href="https://webgroupco.com/developers/webp">Сравнение формата WebP c JPG, PNG и GIF</a></li>
				<li><a href="https://github.com/web-standards-ru/web-standards.ru/blob/main/src/articles/webp-today/index.md">Почему WebP?</a></li>
				<li><a href="https://caniuse.com/webp">WebP image format</a></li>
				<li><a href="https://timeweb.com/ru/community/articles/format-izobrazheniy-webp">Формат изображений WebP: что это такое и зачем он нужен</a></li>
				<li><a href="https://developers.google.com/speed/webp/gallery1">Галерия Гугл</a></li>
			</ul>
			<br>
			<a href="#plot">К содержанию</a>
		</div>
		
	</body>
</html>